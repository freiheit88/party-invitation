<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Seanâ€™s Party Invitation Â· tuned in A</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Manrope:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app-shell">
      <main class="app-inner">
        <!-- Scene -1: Pre-intro fogged glass -->
        <section class="scene scene-visible" id="scene-preintro" aria-label="Pre-intro">
          <div class="scene-bg-video-frame">
            <video
              id="preintroVideo"
              class="scene-bg-video"
              src="media/preintro_glass_fog.mp4"
              autoplay
              muted
              loop
              playsinline
            ></video>
          </div>

          <div class="scene-overlay scene-overlay-dark" id="preintroOverlay"></div>

          <div class="scene-foreground preintro-foreground">
            <div class="preintro-ui" id="preintroUi">
              <div class="preintro-popup" id="preintroPopup">
                <button class="preintro-btn" id="preintroTouchBtn" type="button">
                  <span class="preintro-line preintro-line-main">Tap to begin</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Central ripple / halo after brightening -->
          <button
            class="preintro-ripple"
            id="preintroRipple"
            type="button"
            aria-label="Continue to the study room"
          >
            <span class="preintro-ripple-label">Click again!</span>
          </button>
        </section>

        <!-- Scene 0: Prelude sideways study room -->
        <section class="scene" id="scene-prelude" aria-label="Prelude room">
          <div class="prelude-video-frame">
            <video
              id="preludeVideo"
              class="prelude-video prelude-video-rotated"
              src="media/prelude_study_sideways.mp4"
              autoplay
              muted
              loop
              playsinline
            ></video>
          </div>

          <div class="prelude-overlay">
            <!-- Rotated PRELUDE bar -->
            <div class="prelude-chapter-bar">
              <span class="prelude-tag">PRELUDE</span>
            </div>

            <!-- Left / Right language zones -->
            <div class="prelude-zones">
              <button
                class="prelude-zone prelude-zone-left"
                id="preludeZoneLeft"
                type="button"
                aria-label="Switch everything to English"
              >
                <span class="prelude-lang-label prelude-lang-en">EN ðŸ‡¬ðŸ‡§</span>
              </button>
              <button
                class="prelude-zone prelude-zone-right"
                id="preludeZoneRight"
                type="button"
                aria-label="Switch everything to German"
              >
                <span class="prelude-lang-label prelude-lang-de">DE ðŸ‡©ðŸ‡ª</span>
              </button>
            </div>
          </div>
        </section>

        <!-- Scene 1: Main invitation -->
        <section class="scene" id="scene-main" aria-label="Main invitation">
          <header class="main-header">
            <div class="main-title-group">
              <p class="main-tagline">Invitation</p>
              <h1 class="main-heading">
                One square, one note,<br />
                one evening in Frankfurt.<br />
                <span class="main-heading-soft">everything else will tune itself.</span>
              </h1>
            </div>

            <div class="music-pills">
              <button
                class="music-pill"
                id="musicToggle"
                type="button"
                aria-label="Toggle all music"
              >
                <span class="music-pill-icon music-pill-icon-loud">ðŸ”Š</span>
                <span class="music-pill-separator">|</span>
                <span class="music-pill-icon music-pill-icon-muted">ðŸ”‡</span>
              </button>

              <div class="instrument-pill" id="instrumentPill">
                <span class="instrument-label">You are</span>
                <span class="instrument-role" id="instrumentRole">Violins II</span>
              </div>
            </div>
          </header>

          <!-- Main layout: hero + tabs -->
          <div class="main-layout">
            <section class="hero-column">
              <div class="hero-card">
                <div class="hero-media-frame" id="heroGlowFrame">
                  <img
                    src="picture/AlteOper.png"
                    alt="Alte Oper square at night"
                    class="hero-image"
                  />
                  <div class="hero-glow-layer" id="heroGlowLayer"></div>
                </div>

                <div class="hero-caption">
                  <div class="hero-caption-text" id="heroCaptionText">
                    <!-- Filled by JS -->
                  </div>
                  <div class="hero-caption-dots" id="heroCaptionDots">
                    <!-- â— â—‹ from JS -->
                  </div>
                </div>

                <div class="hero-controls">
                  <button
                    class="a-button"
                    id="letARingBtn"
                    type="button"
                    aria-label="Let A ring"
                  >
                    <span class="a-button-label">Let A ring</span>
                    <span class="a-button-emoji" id="aButtonEmoji">ðŸŽ»</span>
                  </button>
                  <p class="hero-note">
                    A single orchestral A, tuned quietly against the city noise.
                  </p>
                </div>
              </div>
            </section>

            <section class="tabs-column">
              <div class="tabs-header" role="tablist" aria-label="Invitation details">
                <button
                  class="tab-button tab-button-active"
                  data-tab="invitation"
                  id="tabInvitation"
                  type="button"
                  role="tab"
                  aria-selected="true"
                  aria-controls="tab-panel-invitation"
                >
                  Invitation
                </button>
                <button
                  class="tab-button"
                  data-tab="how"
                  id="tabHow"
                  type="button"
                  role="tab"
                  aria-selected="false"
                  aria-controls="tab-panel-how"
                >
                  How to start
                </button>
                <button
                  class="tab-button"
                  data-tab="board"
                  id="tabBoard"
                  type="button"
                  role="tab"
                  aria-selected="false"
                  aria-controls="tab-panel-board"
                >
                  Board
                </button>
                <button
                  class="tab-button"
                  data-tab="orchestra"
                  id="tabOrchestra"
                  type="button"
                  role="tab"
                  aria-selected="false"
                  aria-controls="tab-panel-orchestra"
                >
                  Orchestra Game
                </button>
              </div>

              <div class="tabs-panels">
                <!-- Invitation tab -->
                <section
                  class="tab-panel tab-panel-active"
                  id="tab-panel-invitation"
                  role="tabpanel"
                  aria-labelledby="tabInvitation"
                >
                  <p class="tab-lead">
                    Start on the square in front of Alte Oper. Let one quiet note decide where the
                    evening goes.
                  </p>
                  <p class="tab-body">
                    This isnâ€™t a fixed-spot party. Itâ€™s a small group, tuning itself in real time
                    somewhere between the opera house, the streets, and wherever feels right once
                    everyone arrives.
                  </p>
                  <ul class="tab-list">
                    <li>Come as you are, slightly early rather than late.</li>
                    <li>Stand on the square, listen to the traffic and footsteps like a low orchestra.</li>
                    <li>When your phone and the square agree, the next location reveals itself.</li>
                  </ul>
                </section>

                <!-- How to start tab -->
                <section
                  class="tab-panel"
                  id="tab-panel-how"
                  role="tabpanel"
                  aria-labelledby="tabHow"
                >
                  <h2 class="tab-subheading">How to start</h2>
                  <p class="tab-body">
                    Arrive at Alte Oper a little before the time. Donâ€™t rush. Let the square breathe
                    around you.
                  </p>
                  <p class="tab-body">
                    Watch people crossing, cars idling at the lights, fragments of conversations
                    passing by. All of that is part of the overture.
                  </p>
                  <div class="map-card">
                    <p class="map-caption">Alte Oper, Frankfurt</p>
                    <iframe
                      class="map-embed"
                      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2628.8535146956483!2d8.669795476629025!3d50.116806871519894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47bd0ea41b9c6c6d%3A0x26e4b3aa8e1cc06d!2sAlte%20Oper!5e0!3m2!1sen!2sde!4v1700000000000"
                      loading="lazy"
                      referrerpolicy="no-referrer-when-downgrade"
                      title="Alte Oper on Google Maps"
                    ></iframe>
                  </div>
                </section>

                <!-- Board tab -->
                <section
                  class="tab-panel"
                  id="tab-panel-board"
                  role="tabpanel"
                  aria-labelledby="tabBoard"
                >
                  <h2 class="tab-subheading">Board</h2>
                  <p class="tab-body">
                    Imagine a physical board somewhere in the city â€” part subway wall, part backstage
                    cork board. Each poster is a small parallel evening.
                  </p>
                  <div class="board-grid">
                    <article class="board-card">
                      <h3 class="board-title">Late strings upstairs</h3>
                      <div class="board-qr-placeholder"></div>
                      <p class="board-meta">132 people would tap this.</p>
                    </article>
                    <article class="board-card">
                      <h3 class="board-title">Neon coffee after 23:00</h3>
                      <div class="board-qr-placeholder"></div>
                      <p class="board-meta">89 people are quietly curious.</p>
                    </article>
                    <article class="board-card">
                      <h3 class="board-title">Silent balcony, loud city</h3>
                      <div class="board-qr-placeholder"></div>
                      <p class="board-meta">47 people are almost there.</p>
                    </article>
                  </div>
                </section>

                <!-- Orchestra Game tab -->
                <section
                  class="tab-panel"
                  id="tab-panel-orchestra"
                  role="tabpanel"
                  aria-labelledby="tabOrchestra"
                >
                  <h2 class="tab-subheading">Orchestra Game</h2>
                  <p class="tab-body">
                    The idea is simple: everyone on the square is a single instrument. When you
                    drift close enough to someone else, your phones quietly agree that youâ€™re
                    forming a small ensemble.
                  </p>
                  <button
                    class="location-button"
                    id="locationEnableBtn"
                    type="button"
                  >
                    Let the square listen to where you stand
                  </button>
                  <p class="tab-body small">
                    Your browser may ask for location permission. Itâ€™s only used to feel how close
                    you are to others in this moment â€” nothing is stored.
                  </p>
                  <div class="location-readout" id="locationReadout">
                    Waiting for locationâ€¦
                  </div>
                </section>
              </div>
            </section>
          </div>
        </section>
      </main>
    </div>

    <script src="script.js" defer></script>
  </body>
</html>
